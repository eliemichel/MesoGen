MesoGen
=======

*The official implementation of [MesoGen: Designing Procedural On-Surface Stranded Mesostructures](https://eliemichel.github.io/MesoGen) (SIGGRAPH 2023).*

### Downloading

This repository contains *submodules*, so **do not use** the *download zip* button provided by GitHub. To clone the repository using git, run:

```
git clone --recurse-submodules https://github.com/eliemichel/MesoGen.git
cd MesoGen
```

If you forgot to use the `--recurse-submodules`, you can get submodules with:

```
git submodule update --init --recursive
```

### Dependencies

Before building, you may need some additional piece of software depending on your platform.

#### Windows

On Windows, you need [cmake](https://cmake.org/) and Python.

#### Linux

You can install the required dependencies with the following `apt` command line, or something similar on other packet managers:

```
sudo apt-get install python git cmake xorg-dev
```

#### OSX

You should only need [cmake](https://cmake.org/) and Python, but this has not been tested. Feel free to let me know if anything is missing.

### Building

This is a standard CMake project. Building it consits in running:

```
mkdir build
cd build
cmake ..
```

You can chose which compiler to use in the call to `cmake`, using the `-G` option. See for instance [`build-msvc16.bat`](build-msvc16.bat) to build for Visual Studio 15 (2017), or the other build files for `mingw` or `gcc`. More easily, you can also just run one of those scripts, it will even get git submodules.

Once CMake has run, you can build the project. You can do it in command line, from the `build` directory:

```
cmake --build .
```

Or you can use the build process of your compiler, for instance running `make` (for `gcc` projects) or openning the Visual Studio solution.

### Running

The executable file is created within the `build` directory, in `src/MesostructureGenerator` or `src/MesostructureGenerator/Debug` or `src/MesostructureGenerator/Release` or something similar depending on your compiler.

### Troubleshooting

When using Visual Studio, if you encounter this error dialog when trying to run the solution generated by CMake:

![Start up issue](doc/images/startup-issue.png)

Right click on *MesostructureGenerator* in the solution explorer (right panel, in default Visual Studio window layout) and chose "Set as StartUp Project".
